{% extends "base.html" %}

{% block title %}Adiance Face Recognition - Advanced AI System{% endblock %}

{% block content %}
<!-- Hero Section with Particles -->
<section class="hero-section" id="particles-js">
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="container">
        <div class="row align-items-center hero-content">
            <div class="col-lg-7 mb-5 mb-lg-0">
                <h1 class="hero-title animate-on-scroll">Next-Gen Facial Recognition</h1>
                <p class="hero-subtitle animate-on-scroll fade-in-1">
                    Experience industry-leading accuracy with our advanced biometric system
                    powered by deep learning technology.
                </p>
                <div class="d-flex flex-wrap gap-3 animate-on-scroll fade-in-2">
                    <a href="{{ url_for('enroll') }}" class="btn btn-primary btn-icon">
                        <i class="bi bi-person-plus"></i> Enroll Face
                    </a>
                    <a href="{{ url_for('search') }}" class="btn btn-outline btn-icon">
                        <i class="bi bi-search"></i> Search Face
                    </a>
                </div>
            </div>
            <div class="col-lg-5 d-none d-lg-block animate-on-scroll fade-in-3">
                <img src="{{ url_for('static', filename='img/landing-hero.png') }}" class="img-fluid rounded shadow-lg" alt="Face Recognition Technology">
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="py-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-md-3 col-6">
                <div class="stat-card">
                    <div class="value">{{ stats['enrollments'] }}</div>
                    <div class="label">Enrollments</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-card">
                    <div class="value">{{ stats['searches'] }}</div>
                    <div class="label">Searches</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-card">
                    <div class="value">99.8<span style="font-size: 60%">%</span></div>
                    <div class="label">Accuracy</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-card">
                    <div class="value">&lt;1s</div>
                    <div class="label">Response Time</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-5 animate-on-scroll">How It Works</h2>
        
        <div class="row g-4">
            <div class="col-md-4 animate-on-scroll fade-in-1">
                <div class="futuristic-card glow-on-hover h-100">
                    <div class="card-body text-center">
                        <div class="feature-icon mx-auto">
                            <i class="bi bi-person-plus"></i>
                        </div>
                        <h3 class="card-title">Enroll</h3>
                        <p>Upload face images with unique identifiers to build a secure database of verified individuals.</p>
                        <a href="{{ url_for('enroll') }}" class="btn-link">Enroll Now</a>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4 animate-on-scroll fade-in-2">
                <div class="futuristic-card glow-on-hover h-100">
                    <div class="card-body text-center">
                        <div class="feature-icon mx-auto">
                            <i class="bi bi-fingerprint"></i>
                        </div>
                        <h3 class="card-title">Process</h3>
                        <p>Our AI extracts unique facial features and converts them into secure biometric templates.</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4 animate-on-scroll fade-in-3">
                <div class="futuristic-card glow-on-hover h-100">
                    <div class="card-body text-center">
                        <div class="feature-icon mx-auto">
                            <i class="bi bi-search"></i>
                        </div>
                        <h3 class="card-title">Search</h3>
                        <p>Upload a probe image to instantly find matching faces within the database with high precision.</p>
                        <a href="{{ url_for('search') }}" class="btn-link">Search Now</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Advanced Technology Section -->
<section class="py-5 bg-darker">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0 animate-on-scroll">
                <h2>Advanced AI Technology</h2>
                <p class="lead mb-4">Adiance utilizes state-of-the-art deep neural networks designed specifically for face recognition in challenging conditions.</p>
                <div class="d-flex align-items-center mb-3">
                    <div class="me-3">
                        <i class="bi bi-check-circle-fill" style="color: rgba(var(--success), 1);"></i>
                    </div>
                    <div>
                        <h5 class="mb-0">High Accuracy Matching</h5>
                        <p class="text-light opacity-75 small mb-0">Industry-leading face matching with 99.8% accuracy rate</p>
                    </div>
                </div>
                <div class="d-flex align-items-center mb-3">
                    <div class="me-3">
                        <i class="bi bi-check-circle-fill" style="color: rgba(var(--success), 1);"></i>
                    </div>
                    <div>
                        <h5 class="mb-0">Millisecond Processing</h5>
                        <p class="text-light opacity-75 small mb-0">Ultra-fast template creation and matching</p>
                    </div>
                </div>
                <div class="d-flex align-items-center">
                    <div class="me-3">
                        <i class="bi bi-check-circle-fill" style="color: rgba(var(--success), 1);"></i>
                    </div>
                    <div>
                        <h5 class="mb-0">Multi-condition Support</h5>
                        <p class="text-light opacity-75 small mb-0">Works across various lighting, poses, and expressions</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 animate-on-scroll fade-in-2">
                <div class="futuristic-card overflow-hidden">
                    <div class="p-0">
                        <div class="neural-network-animation">
                            <div id="tech-canvas" style="height: 300px; position: relative; overflow: hidden;">
                                <!-- 3D neural network visualization will be rendered here by JS -->
                                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center;">
                                    <i class="bi bi-cpu" style="font-size: 4rem; opacity: 0.8;"></i>
                                    <h4 class="mt-3">Neural Network</h4>
                                    <p class="mb-0 small">Deep learning biometric engine</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-5">
    <div class="container">
        <div class="futuristic-card border-glow animate-on-scroll">
            <div class="card-body p-4 p-md-5 text-center">
                <h2 class="mb-4">Ready to Experience Next-Gen Face Recognition?</h2>
                <p class="lead mb-4">Start with enrollment or search through your existing database.</p>
                <div class="d-flex flex-column flex-md-row gap-3 justify-content-center">
                    <a href="{{ url_for('dashboard') }}" class="btn btn-primary">
                        <i class="bi bi-speedometer2 me-2"></i> Go to Dashboard
                    </a>
                    <a href="{{ url_for('batch_enroll') }}" class="btn btn-outline">
                        <i class="bi bi-people me-2"></i> Batch Processing
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
<script>
    // Simple 3D network visualization
    document.addEventListener('DOMContentLoaded', function() {
        const techCanvas = document.getElementById('tech-canvas');
        if (!techCanvas) return;
        
        // Initialize Three.js scene
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, techCanvas.offsetWidth / techCanvas.offsetHeight, 0.1, 1000);
        
        const renderer = new THREE.WebGLRenderer({ alpha: true });
        renderer.setSize(techCanvas.offsetWidth, techCanvas.offsetHeight);
        renderer.setClearColor(0x000000, 0);
        techCanvas.appendChild(renderer.domElement);

        // Create nodes and connections
        const nodes = [];
        const connections = [];
        const layers = [4, 8, 12, 8, 4];
        
        // Create material
        const nodeMaterial = new THREE.MeshBasicMaterial({
            color: 0x4361ee,
            transparent: true,
            opacity: 0.8
        });
        
        const connectionMaterial = new THREE.LineBasicMaterial({
            color: 0xffffff,
            transparent: true,
            opacity: 0.2
        });
        
        // Create geometry
        const nodeGeometry = new THREE.SphereGeometry(0.2, 16, 16);
        
        // Position nodes
        let xOffset = -2;
        layers.forEach((nodeCount, layerIndex) => {
            const yStep = 4 / (nodeCount + 1);
            for (let i = 0; i < nodeCount; i++) {
                const node = new THREE.Mesh(nodeGeometry, nodeMaterial);
                node.position.set(xOffset, (i + 1) * yStep - 2, 0);
                nodes.push(node);
                scene.add(node);
                
                // Connect to previous layer
                if (layerIndex > 0) {
                    const prevLayer = layers[layerIndex - 1];
                    const prevLayerStartIndex = layers.slice(0, layerIndex - 1).reduce((a, b) => a + b, 0);
                    
                    for (let j = 0; j < prevLayer; j++) {
                        const prevNode = nodes[prevLayerStartIndex + j];
                        
                        const points = [];
                        points.push(new THREE.Vector3(node.position.x, node.position.y, node.position.z));
                        points.push(new THREE.Vector3(prevNode.position.x, prevNode.position.y, prevNode.position.z));
                        
                        const geometry = new THREE.BufferGeometry().setFromPoints(points);
                        const line = new THREE.Line(geometry, connectionMaterial);
                        connections.push(line);
                        scene.add(line);
                    }
                }
            }
            xOffset += 1;
        });
        
        camera.position.z = 5;
        
        // Animation
        function animate() {
            requestAnimationFrame(animate);
            
            // Rotate nodes slightly
            nodes.forEach(node => {
                node.rotation.x += 0.01;
                node.rotation.y += 0.01;
            });
            
            renderer.render(scene, camera);
        }
        
        animate();
        
        // Handle resize
        window.addEventListener('resize', function() {
            camera.aspect = techCanvas.offsetWidth / techCanvas.offsetHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(techCanvas.offsetWidth, techCanvas.offsetHeight);
        });
    });
</script>
{% endblock %}
